function cov_q3am3za8f() {
  var path = "C:\\Users\\Dima.Sereda\\OneDrive - Heart and Stroke Foundation of Canada\\Documents\\Files\\dimasfurniture\\src\\firebase\\firebase.utils.js";
  var hash = "bb2dd3bb7c9ac193bdf011805acad18496ccccb6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Dima.Sereda\\OneDrive - Heart and Stroke Foundation of Canada\\Documents\\Files\\dimasfurniture\\src\\firebase\\firebase.utils.js",
    statementMap: {
      "0": {
        start: {
          line: 5,
          column: 23
        },
        end: {
          line: 12,
          column: 1
        }
      },
      "1": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 14,
          column: 39
        }
      },
      "2": {
        start: {
          line: 16,
          column: 20
        },
        end: {
          line: 16,
          column: 35
        }
      },
      "3": {
        start: {
          line: 17,
          column: 25
        },
        end: {
          line: 17,
          column: 45
        }
      },
      "4": {
        start: {
          line: 20,
          column: 24
        },
        end: {
          line: 20,
          column: 62
        }
      },
      "5": {
        start: {
          line: 22,
          column: 0
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "6": {
        start: {
          line: 26,
          column: 32
        },
        end: {
          line: 26,
          column: 70
        }
      },
      "7": {
        start: {
          line: 26,
          column: 38
        },
        end: {
          line: 26,
          column: 70
        }
      },
      "8": {
        start: {
          line: 31,
          column: 37
        },
        end: {
          line: 42,
          column: 1
        }
      },
      "9": {
        start: {
          line: 32,
          column: 24
        },
        end: {
          line: 32,
          column: 59
        }
      },
      "10": {
        start: {
          line: 34,
          column: 16
        },
        end: {
          line: 34,
          column: 33
        }
      },
      "11": {
        start: {
          line: 36,
          column: 2
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "12": {
        start: {
          line: 37,
          column: 19
        },
        end: {
          line: 37,
          column: 38
        }
      },
      "13": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 27
        }
      },
      "14": {
        start: {
          line: 41,
          column: 2
        },
        end: {
          line: 41,
          column: 30
        }
      },
      "15": {
        start: {
          line: 45,
          column: 41
        },
        end: {
          line: 62,
          column: 1
        }
      },
      "16": {
        start: {
          line: 46,
          column: 2
        },
        end: {
          line: 46,
          column: 20
        }
      },
      "17": {
        start: {
          line: 46,
          column: 13
        },
        end: {
          line: 46,
          column: 20
        }
      },
      "18": {
        start: {
          line: 48,
          column: 18
        },
        end: {
          line: 48,
          column: 58
        }
      },
      "19": {
        start: {
          line: 49,
          column: 19
        },
        end: {
          line: 49,
          column: 38
        }
      },
      "20": {
        start: {
          line: 51,
          column: 2
        },
        end: {
          line: 59,
          column: 3
        }
      },
      "21": {
        start: {
          line: 52,
          column: 35
        },
        end: {
          line: 52,
          column: 39
        }
      },
      "22": {
        start: {
          line: 53,
          column: 27
        },
        end: {
          line: 53,
          column: 37
        }
      },
      "23": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 58,
          column: 5
        }
      },
      "24": {
        start: {
          line: 55,
          column: 6
        },
        end: {
          line: 55,
          column: 64
        }
      },
      "25": {
        start: {
          line: 57,
          column: 6
        },
        end: {
          line: 57,
          column: 23
        }
      },
      "26": {
        start: {
          line: 61,
          column: 2
        },
        end: {
          line: 61,
          column: 17
        }
      },
      "27": {
        start: {
          line: 64,
          column: 47
        },
        end: {
          line: 79,
          column: 1
        }
      },
      "28": {
        start: {
          line: 65,
          column: 22
        },
        end: {
          line: 73,
          column: 4
        }
      },
      "29": {
        start: {
          line: 66,
          column: 29
        },
        end: {
          line: 66,
          column: 39
        }
      },
      "30": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 72,
          column: 6
        }
      },
      "31": {
        start: {
          line: 75,
          column: 2
        },
        end: {
          line: 78,
          column: 9
        }
      },
      "32": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 76,
          column: 61
        }
      },
      "33": {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 77,
          column: 23
        }
      },
      "34": {
        start: {
          line: 82,
          column: 30
        },
        end: {
          line: 89,
          column: 1
        }
      },
      "35": {
        start: {
          line: 83,
          column: 2
        },
        end: {
          line: 88,
          column: 5
        }
      },
      "36": {
        start: {
          line: 84,
          column: 24
        },
        end: {
          line: 87,
          column: 14
        }
      },
      "37": {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 85,
          column: 20
        }
      },
      "38": {
        start: {
          line: 86,
          column: 6
        },
        end: {
          line: 86,
          column: 24
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 26,
            column: 32
          },
          end: {
            line: 26,
            column: 33
          }
        },
        loc: {
          start: {
            line: 26,
            column: 38
          },
          end: {
            line: 26,
            column: 70
          }
        },
        line: 26
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 31,
            column: 37
          },
          end: {
            line: 31,
            column: 38
          }
        },
        loc: {
          start: {
            line: 31,
            column: 61
          },
          end: {
            line: 42,
            column: 1
          }
        },
        line: 31
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 36,
            column: 23
          },
          end: {
            line: 36,
            column: 24
          }
        },
        loc: {
          start: {
            line: 36,
            column: 32
          },
          end: {
            line: 39,
            column: 3
          }
        },
        line: 36
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 45,
            column: 41
          },
          end: {
            line: 45,
            column: 42
          }
        },
        loc: {
          start: {
            line: 45,
            column: 57
          },
          end: {
            line: 62,
            column: 1
          }
        },
        line: 45
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 64,
            column: 47
          },
          end: {
            line: 64,
            column: 48
          }
        },
        loc: {
          start: {
            line: 64,
            column: 72
          },
          end: {
            line: 79,
            column: 1
          }
        },
        line: 64
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 65,
            column: 45
          },
          end: {
            line: 65,
            column: 46
          }
        },
        loc: {
          start: {
            line: 65,
            column: 54
          },
          end: {
            line: 73,
            column: 3
          }
        },
        line: 65
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 75,
            column: 28
          },
          end: {
            line: 75,
            column: 29
          }
        },
        loc: {
          start: {
            line: 75,
            column: 57
          },
          end: {
            line: 78,
            column: 3
          }
        },
        line: 75
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 82,
            column: 30
          },
          end: {
            line: 82,
            column: 31
          }
        },
        loc: {
          start: {
            line: 82,
            column: 36
          },
          end: {
            line: 89,
            column: 1
          }
        },
        line: 82
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 83,
            column: 21
          },
          end: {
            line: 83,
            column: 22
          }
        },
        loc: {
          start: {
            line: 83,
            column: 42
          },
          end: {
            line: 88,
            column: 3
          }
        },
        line: 83
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 84,
            column: 48
          },
          end: {
            line: 84,
            column: 49
          }
        },
        loc: {
          start: {
            line: 84,
            column: 62
          },
          end: {
            line: 87,
            column: 5
          }
        },
        line: 84
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 46,
            column: 2
          },
          end: {
            line: 46,
            column: 20
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 46,
            column: 2
          },
          end: {
            line: 46,
            column: 20
          }
        }, {
          start: {
            line: 46,
            column: 2
          },
          end: {
            line: 46,
            column: 20
          }
        }],
        line: 46
      },
      "1": {
        loc: {
          start: {
            line: 51,
            column: 2
          },
          end: {
            line: 59,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 2
          },
          end: {
            line: 59,
            column: 3
          }
        }, {
          start: {
            line: 51,
            column: 2
          },
          end: {
            line: 59,
            column: 3
          }
        }],
        line: 51
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "bb2dd3bb7c9ac193bdf011805acad18496ccccb6"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_q3am3za8f = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_q3am3za8f();
import firebase from "firebase/app";
import "firebase/auth";
import "firebase/firestore";
const firebaseConfig = (cov_q3am3za8f().s[0]++, {
  apiKey: "AIzaSyBcLxV-ddMXzlFFEI7qIm62VbCDRJh6P7s",
  authDomain: "dimasfurniture-459b7.firebaseapp.com",
  projectId: "dimasfurniture-459b7",
  storageBucket: "dimasfurniture-459b7.appspot.com",
  messagingSenderId: "863037532933",
  appId: "1:863037532933:web:dd3d5dcc82bcbfcc3aa56c"
});
cov_q3am3za8f().s[1]++;
firebase.initializeApp(firebaseConfig);
export const auth = (cov_q3am3za8f().s[2]++, firebase.auth());
export const firestore = (cov_q3am3za8f().s[3]++, firebase.firestore()); // Google Sign-in

export const provider = (cov_q3am3za8f().s[4]++, new firebase.auth.GoogleAuthProvider());
cov_q3am3za8f().s[5]++;
provider.setCustomParameters({
  prompt: "select_account"
});
cov_q3am3za8f().s[6]++;
export const signInWithGoogle = () => {
  cov_q3am3za8f().f[0]++;
  cov_q3am3za8f().s[7]++;
  return auth().signInWithPopup(provider);
};
export default firebase; // Add collections to firebase

cov_q3am3za8f().s[8]++;
export const addCollectionAndItems = async objectsToAdd => {
  cov_q3am3za8f().f[1]++;
  const collectionRef = (cov_q3am3za8f().s[9]++, firestore.collection("collections"));
  const batch = (cov_q3am3za8f().s[10]++, firestore.batch());
  cov_q3am3za8f().s[11]++;
  objectsToAdd.forEach(obj => {
    cov_q3am3za8f().f[2]++;
    const docRef = (cov_q3am3za8f().s[12]++, collectionRef.doc());
    cov_q3am3za8f().s[13]++;
    batch.set(docRef, obj);
  });
  cov_q3am3za8f().s[14]++;
  return await batch.commit();
}; // Add Profile document

cov_q3am3za8f().s[15]++;
export const createUserProfileDocument = async user => {
  cov_q3am3za8f().f[3]++;
  cov_q3am3za8f().s[16]++;

  if (!user) {
    cov_q3am3za8f().b[0][0]++;
    cov_q3am3za8f().s[17]++;
    return;
  } else {
    cov_q3am3za8f().b[0][1]++;
  }

  const userRef = (cov_q3am3za8f().s[18]++, await firestore.doc(`users/${user.uid}`));
  const snapshot = (cov_q3am3za8f().s[19]++, await userRef.get());
  cov_q3am3za8f().s[20]++;

  if (!snapshot.exists) {
    cov_q3am3za8f().b[1][0]++;
    const {
      displayName,
      email
    } = (cov_q3am3za8f().s[21]++, user);
    const dateOfCreation = (cov_q3am3za8f().s[22]++, new Date());
    cov_q3am3za8f().s[23]++;

    try {
      cov_q3am3za8f().s[24]++;
      await userRef.set({
        displayName,
        email,
        dateOfCreation
      });
    } catch (err) {
      cov_q3am3za8f().s[25]++;
      console.log(err);
    }
  } else {
    cov_q3am3za8f().b[1][1]++;
  }

  cov_q3am3za8f().s[26]++;
  return userRef;
};
cov_q3am3za8f().s[27]++;
export const convertCollectionsSnapshotToMap = async querySnapshot => {
  cov_q3am3za8f().f[4]++;
  const collections = (cov_q3am3za8f().s[28]++, querySnapshot.docs.map(doc => {
    cov_q3am3za8f().f[5]++;
    const {
      title,
      items
    } = (cov_q3am3za8f().s[29]++, doc.data());
    cov_q3am3za8f().s[30]++;
    return {
      title,
      items,
      id: doc.id,
      url: encodeURI(title.toLowerCase())
    };
  }));
  cov_q3am3za8f().s[31]++;
  return collections.reduce((accumulator, collection) => {
    cov_q3am3za8f().f[6]++;
    cov_q3am3za8f().s[32]++;
    accumulator[collection.title.toLowerCase()] = collection;
    cov_q3am3za8f().s[33]++;
    return accumulator;
  }, {});
}; //Get current user

cov_q3am3za8f().s[34]++;
export const getCurrentUser = () => {
  cov_q3am3za8f().f[7]++;
  cov_q3am3za8f().s[35]++;
  return new Promise((resolve, reject) => {
    cov_q3am3za8f().f[8]++;
    const unsubscribe = (cov_q3am3za8f().s[36]++, auth.onAuthStateChanged(userAuth => {
      cov_q3am3za8f().f[9]++;
      cov_q3am3za8f().s[37]++;
      unsubscribe();
      cov_q3am3za8f().s[38]++;
      resolve(userAuth);
    }, reject));
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpcmViYXNlLnV0aWxzLmpzIl0sIm5hbWVzIjpbImZpcmViYXNlIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJpbml0aWFsaXplQXBwIiwiYXV0aCIsImZpcmVzdG9yZSIsInByb3ZpZGVyIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwic2V0Q3VzdG9tUGFyYW1ldGVycyIsInByb21wdCIsInNpZ25JbldpdGhHb29nbGUiLCJzaWduSW5XaXRoUG9wdXAiLCJhZGRDb2xsZWN0aW9uQW5kSXRlbXMiLCJvYmplY3RzVG9BZGQiLCJjb2xsZWN0aW9uUmVmIiwiY29sbGVjdGlvbiIsImJhdGNoIiwiZm9yRWFjaCIsIm9iaiIsImRvY1JlZiIsImRvYyIsInNldCIsImNvbW1pdCIsImNyZWF0ZVVzZXJQcm9maWxlRG9jdW1lbnQiLCJ1c2VyIiwidXNlclJlZiIsInVpZCIsInNuYXBzaG90IiwiZ2V0IiwiZXhpc3RzIiwiZGlzcGxheU5hbWUiLCJlbWFpbCIsImRhdGVPZkNyZWF0aW9uIiwiRGF0ZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjb252ZXJ0Q29sbGVjdGlvbnNTbmFwc2hvdFRvTWFwIiwicXVlcnlTbmFwc2hvdCIsImNvbGxlY3Rpb25zIiwiZG9jcyIsIm1hcCIsInRpdGxlIiwiaXRlbXMiLCJkYXRhIiwiaWQiLCJ1cmwiLCJlbmNvZGVVUkkiLCJ0b0xvd2VyQ2FzZSIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiZ2V0Q3VycmVudFVzZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInVuc3Vic2NyaWJlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwidXNlckF1dGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWVZOzs7Ozs7Ozs7QUFmWixPQUFPQSxRQUFQLE1BQXFCLGNBQXJCO0FBQ0EsT0FBTyxlQUFQO0FBQ0EsT0FBTyxvQkFBUDtBQUVBLE1BQU1DLGNBQWMsNEJBQUc7QUFDckJDLEVBQUFBLE1BQU0sRUFBRSx5Q0FEYTtBQUVyQkMsRUFBQUEsVUFBVSxFQUFFLHNDQUZTO0FBR3JCQyxFQUFBQSxTQUFTLEVBQUUsc0JBSFU7QUFJckJDLEVBQUFBLGFB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Q0xGLE1BQUFBLEtBREs7QUFFTEMsTUFBQUEsS0FGSztBQUdMRSxNQUFBQSxFQUFFLEVBQUV6QixHQUFHLENBQUN5QixFQUhIO0FBSUxDLE1BQUFBLEdBQUcsRUFBRUMsU0FBUyxDQUFDTCxLQUFLLENBQUNNLFdBQU4sRUFBRDtBQUpULEtBQVA7QUFNRCxHQVJtQixDQUFILENBQWpCO0FBRHNFO0FBV3RFLFNBQU9ULFdBQVcsQ0FBQ1UsTUFBWixDQUFtQixDQUFDQyxXQUFELEVBQWNuQyxVQUFkLEtBQTZCO0FBQUE7QUFBQTtBQUNyRG1DLElBQUFBLFdBQVcsQ0FBQ25DLFVBQVUsQ0FBQzJCLEtBQVgsQ0FBaUJNLFdBQWpCLEVBQUQsQ0FBWCxHQUE4Q2pDLFVBQTlDO0FBRHFEO0FBRXJELFdBQU9tQyxXQUFQO0FBQ0QsR0FITSxFQUdKLEVBSEksQ0FBUDtBQUlELENBZk0sQyxDQWlCUDs7O0FBQ0EsT0FBTyxNQUFNQyxjQUFjLEdBQUcsTUFBTTtBQUFBO0FBQUE7QUFDbEMsU0FBTyxJQUFJQyxPQUFKLENBQVksQ0FBQ0MsT0FBRCxFQUFVQyxNQUFWLEtBQXFCO0FBQUE7QUFDdEMsVUFBTUMsV0FBVyw2QkFBR25ELElBQUksQ0FBQ29ELGtCQUFMLENBQXlCQyxRQUFELElBQWM7QUFBQTtBQUFBO0FBQ3hERixNQUFBQSxXQUFXO0FBRDZDO0FBRXhERixNQUFBQSxPQUFPLENBQUNJLFFBQUQsQ0FBUDtBQUNELEtBSG1CLEVBR2pCSCxNQUhpQixDQUFILENBQWpCO0FBSUQsR0FMTSxDQUFQO0FBTUQsQ0FQTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XHJcbmltcG9ydCBcImZpcmViYXNlL2F1dGhcIjtcclxuaW1wb3J0IFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcblxyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICBhcGlLZXk6IFwiQUl6YVN5QmNMeFYtZGRNWHpsRkZFSTdxSW02MlZiQ0RSSmg2UDdzXCIsXHJcbiAgYXV0aERvbWFpbjogXCJkaW1hc2Z1cm5pdHVyZS00NTliNy5maXJlYmFzZWFwcC5jb21cIixcclxuICBwcm9qZWN0SWQ6IFwiZGltYXNmdXJuaXR1cmUtNDU5YjdcIixcclxuICBzdG9yYWdlQnVja2V0OiBcImRpbWFzZnVybml0dXJlLTQ1OWI3LmFwcHNwb3QuY29tXCIsXHJcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiODYzMDM3NTMyOTMzXCIsXHJcbiAgYXBwSWQ6IFwiMTo4NjMwMzc1MzI5MzM6d2ViOmRkM2Q1ZGNjODJiY2JmY2MzYWE1NmNcIixcclxufTtcclxuXHJcbmZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGF1dGggPSBmaXJlYmFzZS5hdXRoKCk7XHJcbmV4cG9ydCBjb25zdCBmaXJlc3RvcmUgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTtcclxuXHJcbi8vIEdvb2dsZSBTaWduLWluXHJcbmV4cG9ydCBjb25zdCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xyXG5cclxucHJvdmlkZXIuc2V0Q3VzdG9tUGFyYW1ldGVycyh7XHJcbiAgcHJvbXB0OiBcInNlbGVjdF9hY2NvdW50XCIsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ25JbldpdGhHb29nbGUgPSAoKSA9PiBhdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZpcmViYXNlO1xyXG5cclxuLy8gQWRkIGNvbGxlY3Rpb25zIHRvIGZpcmViYXNlXHJcbmV4cG9ydCBjb25zdCBhZGRDb2xsZWN0aW9uQW5kSXRlbXMgPSBhc3luYyAob2JqZWN0c1RvQWRkKSA9PiB7XHJcbiAgY29uc3QgY29sbGVjdGlvblJlZiA9IGZpcmVzdG9yZS5jb2xsZWN0aW9uKFwiY29sbGVjdGlvbnNcIik7XHJcblxyXG4gIGNvbnN0IGJhdGNoID0gZmlyZXN0b3JlLmJhdGNoKCk7XHJcblxyXG4gIG9iamVjdHNUb0FkZC5mb3JFYWNoKChvYmopID0+IHtcclxuICAgIGNvbnN0IGRvY1JlZiA9IGNvbGxlY3Rpb25SZWYuZG9jKCk7XHJcbiAgICBiYXRjaC5zZXQoZG9jUmVmLCBvYmopO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gYXdhaXQgYmF0Y2guY29tbWl0KCk7XHJcbn07XHJcblxyXG4vLyBBZGQgUHJvZmlsZSBkb2N1bWVudFxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlclByb2ZpbGVEb2N1bWVudCA9IGFzeW5jICh1c2VyKSA9PiB7XHJcbiAgaWYgKCF1c2VyKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHVzZXJSZWYgPSBhd2FpdCBmaXJlc3RvcmUuZG9jKGB1c2Vycy8ke3VzZXIudWlkfWApO1xyXG4gIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgdXNlclJlZi5nZXQoKTtcclxuXHJcbiAgaWYgKCFzbmFwc2hvdC5leGlzdHMpIHtcclxuICAgIGNvbnN0IHsgZGlzcGxheU5hbWUsIGVtYWlsIH0gPSB1c2VyO1xyXG4gICAgY29uc3QgZGF0ZU9mQ3JlYXRpb24gPSBuZXcgRGF0ZSgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdXNlclJlZi5zZXQoeyBkaXNwbGF5TmFtZSwgZW1haWwsIGRhdGVPZkNyZWF0aW9uIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdXNlclJlZjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb252ZXJ0Q29sbGVjdGlvbnNTbmFwc2hvdFRvTWFwID0gYXN5bmMgKHF1ZXJ5U25hcHNob3QpID0+IHtcclxuICBjb25zdCBjb2xsZWN0aW9ucyA9IHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4ge1xyXG4gICAgY29uc3QgeyB0aXRsZSwgaXRlbXMgfSA9IGRvYy5kYXRhKCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0aXRsZSxcclxuICAgICAgaXRlbXMsXHJcbiAgICAgIGlkOiBkb2MuaWQsXHJcbiAgICAgIHVybDogZW5jb2RlVVJJKHRpdGxlLnRvTG93ZXJDYXNlKCkpLFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNvbGxlY3Rpb25zLnJlZHVjZSgoYWNjdW11bGF0b3IsIGNvbGxlY3Rpb24pID0+IHtcclxuICAgIGFjY3VtdWxhdG9yW2NvbGxlY3Rpb24udGl0bGUudG9Mb3dlckNhc2UoKV0gPSBjb2xsZWN0aW9uO1xyXG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xyXG4gIH0sIHt9KTtcclxufTtcclxuXHJcbi8vR2V0IGN1cnJlbnQgdXNlclxyXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoKHVzZXJBdXRoKSA9PiB7XHJcbiAgICAgIHVuc3Vic2NyaWJlKCk7XHJcbiAgICAgIHJlc29sdmUodXNlckF1dGgpO1xyXG4gICAgfSwgcmVqZWN0KTtcclxuICB9KTtcclxufTtcclxuIl19